<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Los 17 Grupos de Papel Tapiz - Explorador Interactivo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar de navegaci√≥n -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1 class="logo">
                    <span class="logo-icon">‚óà</span>
                    <span class="logo-text">Cristalograf√≠a</span>
                </h1>
                <p class="logo-subtitle">17 Grupos de Simetr√≠a</p>
            </div>
            
            <nav class="group-nav">
                <div class="nav-section">
                    <h3 class="nav-title">
                        <span class="lattice-icon oblique">‚óá</span>
                        Oblicuo
                    </h3>
                    <ul class="nav-list">
                        <li><button class="nav-btn" data-group="p1">p1 <span class="order">C‚ÇÅ</span></button></li>
                        <li><button class="nav-btn" data-group="p2">p2 <span class="order">C‚ÇÇ</span></button></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3 class="nav-title">
                        <span class="lattice-icon rectangular">‚ñ≠</span>
                        Rectangular
                    </h3>
                    <ul class="nav-list">
                        <li><button class="nav-btn" data-group="pm">pm <span class="order">œÉ</span></button></li>
                        <li><button class="nav-btn" data-group="pg">pg <span class="order">g</span></button></li>
                        <li><button class="nav-btn" data-group="cm">cm <span class="order">œÉg</span></button></li>
                        <li><button class="nav-btn" data-group="pmm">pmm <span class="order">œÉœÉ</span></button></li>
                        <li><button class="nav-btn" data-group="pmg">pmg <span class="order">œÉg</span></button></li>
                        <li><button class="nav-btn" data-group="pgg">pgg <span class="order">gg</span></button></li>
                        <li><button class="nav-btn" data-group="cmm">cmm <span class="order">œÉœÉ</span></button></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3 class="nav-title">
                        <span class="lattice-icon square">‚ñ°</span>
                        Cuadrado
                    </h3>
                    <ul class="nav-list">
                        <li><button class="nav-btn" data-group="p4">p4 <span class="order">C‚ÇÑ</span></button></li>
                        <li><button class="nav-btn" data-group="p4m">p4m <span class="order">C‚ÇÑœÉ</span></button></li>
                        <li><button class="nav-btn" data-group="p4g">p4g <span class="order">C‚ÇÑg</span></button></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3 class="nav-title">
                        <span class="lattice-icon hexagonal">‚¨°</span>
                        Hexagonal
                    </h3>
                    <ul class="nav-list">
                        <li><button class="nav-btn" data-group="p3">p3 <span class="order">C‚ÇÉ</span></button></li>
                        <li><button class="nav-btn" data-group="p3m1">p3m1 <span class="order">C‚ÇÉœÉ</span></button></li>
                        <li><button class="nav-btn" data-group="p31m">p31m <span class="order">C‚ÇÉœÉ</span></button></li>
                        <li><button class="nav-btn" data-group="p6">p6 <span class="order">C‚ÇÜ</span></button></li>
                        <li><button class="nav-btn" data-group="p6m">p6m <span class="order">C‚ÇÜœÉ</span></button></li>
                    </ul>
                </div>
            </nav>
            
            <div class="sidebar-footer">
                <a href="https://github.com/tomaszbk/crystallography" class="github-link" target="_blank">
                    <svg viewBox="0 0 16 16" width="16" height="16" fill="currentColor">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                    </svg>
                    Ver en GitHub
                </a>
            </div>
        </aside>
        
        <!-- Contenido principal -->
        <main class="main-content">
            <!-- Encabezado del grupo -->
            <header class="group-header">
                <div class="group-title-section">
                    <h2 class="group-name" id="groupName">p1</h2>
                    <p class="group-description" id="groupDescription">Solo traslaciones, sin simetr√≠a puntual</p>
                </div>
                <div class="group-properties" id="groupProperties">
                    <span class="property-tag lattice">Oblicuo</span>
                    <span class="property-tag rotation">C‚ÇÅ</span>
                </div>
            </header>
            
            <!-- Panel de visualizaci√≥n -->
            <section class="visualization-panel">
                <div class="canvas-grid">
                    <div class="canvas-container">
                        <h3 class="canvas-title">Patr√≥n Original</h3>
                        <div class="canvas-wrapper">
                            <canvas id="originalCanvas" width="300" height="300"></canvas>
                        </div>
                    </div>
                    
                    <div class="canvas-container">
                        <h3 class="canvas-title">Operaci√≥n Aplicada</h3>
                        <div class="canvas-wrapper transformed">
                            <canvas id="transformedCanvas" width="300" height="300"></canvas>
                        </div>
                    </div>
                    
                    <div class="canvas-container">
                        <h3 class="canvas-title">Superposici√≥n / Diferencia</h3>
                        <div class="canvas-wrapper difference">
                            <canvas id="differenceCanvas" width="300" height="300"></canvas>
                        </div>
                        <div class="difference-info" id="differenceInfo">
                            <span class="correlation-label">Correlaci√≥n:</span>
                            <span class="correlation-value" id="correlationValue">100%</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Panel de controles de simetr√≠a -->
            <section class="controls-panel">
                <div class="controls-grid">
                    <!-- Rotaciones -->
                    <div class="control-group">
                        <h4 class="control-title">
                            <span class="control-icon">‚Üª</span>
                            Rotaciones
                        </h4>
                        <div class="button-grid">
                            <button class="symmetry-btn" data-operation="rotate" data-angle="60" title="Rotaci√≥n 60¬∞">
                                <span class="btn-symbol">C‚ÇÜ</span>
                                <span class="btn-label">60¬∞</span>
                            </button>
                            <button class="symmetry-btn" data-operation="rotate" data-angle="90" title="Rotaci√≥n 90¬∞">
                                <span class="btn-symbol">C‚ÇÑ</span>
                                <span class="btn-label">90¬∞</span>
                            </button>
                            <button class="symmetry-btn" data-operation="rotate" data-angle="120" title="Rotaci√≥n 120¬∞">
                                <span class="btn-symbol">C‚ÇÉ</span>
                                <span class="btn-label">120¬∞</span>
                            </button>
                            <button class="symmetry-btn" data-operation="rotate" data-angle="180" title="Rotaci√≥n 180¬∞">
                                <span class="btn-symbol">C‚ÇÇ</span>
                                <span class="btn-label">180¬∞</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Reflexiones -->
                    <div class="control-group">
                        <h4 class="control-title">
                            <span class="control-icon">‚ü∑</span>
                            Reflexiones
                        </h4>
                        <div class="button-grid">
                            <button class="symmetry-btn" data-operation="reflect" data-axis="vertical" title="Reflexi√≥n Vertical">
                                <span class="btn-symbol">œÉ·µ•</span>
                                <span class="btn-label">Vertical</span>
                            </button>
                            <button class="symmetry-btn" data-operation="reflect" data-axis="horizontal" title="Reflexi√≥n Horizontal">
                                <span class="btn-symbol">œÉ‚Çï</span>
                                <span class="btn-label">Horizontal</span>
                            </button>
                            <button class="symmetry-btn" data-operation="reflect" data-axis="diagonal" title="Reflexi√≥n Diagonal">
                                <span class="btn-symbol">œÉ_d</span>
                                <span class="btn-label">Diagonal</span>
                            </button>
                            <button class="symmetry-btn" data-operation="reflect" data-axis="antidiagonal" title="Reflexi√≥n Anti-diagonal">
                                <span class="btn-symbol">œÉ_d'</span>
                                <span class="btn-label">Anti-diag</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Traslaciones -->
                    <div class="control-group">
                        <h4 class="control-title">
                            <span class="control-icon">‚Üí</span>
                            Traslaciones
                        </h4>
                        <div class="button-grid translation-grid">
                            <button class="symmetry-btn" data-operation="translate" data-dx="0.25" data-dy="0" title="Traslaci√≥n ‚Üí">
                                <span class="btn-symbol">T‚Üí</span>
                                <span class="btn-label">¬º a</span>
                            </button>
                            <button class="symmetry-btn" data-operation="translate" data-dx="0.5" data-dy="0" title="Traslaci√≥n ‚Üí ¬Ω">
                                <span class="btn-symbol">T‚Üí</span>
                                <span class="btn-label">¬Ω a</span>
                            </button>
                            <button class="symmetry-btn" data-operation="translate" data-dx="0" data-dy="0.25" title="Traslaci√≥n ‚Üì">
                                <span class="btn-symbol">T‚Üì</span>
                                <span class="btn-label">¬º b</span>
                            </button>
                            <button class="symmetry-btn" data-operation="translate" data-dx="0" data-dy="0.5" title="Traslaci√≥n ‚Üì ¬Ω">
                                <span class="btn-symbol">T‚Üì</span>
                                <span class="btn-label">¬Ω b</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Reflexiones deslizantes -->
                    <div class="control-group">
                        <h4 class="control-title">
                            <span class="control-icon">‚ÜÆ</span>
                            Glide (Reflexi√≥n + Traslaci√≥n)
                        </h4>
                        <div class="button-grid">
                            <button class="symmetry-btn" data-operation="glide" data-axis="horizontal" title="Glide Horizontal">
                                <span class="btn-symbol">g‚Çï</span>
                                <span class="btn-label">Horizontal</span>
                            </button>
                            <button class="symmetry-btn" data-operation="glide" data-axis="vertical" title="Glide Vertical">
                                <span class="btn-symbol">g·µ•</span>
                                <span class="btn-label">Vertical</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Bot√≥n de reset -->
                <div class="reset-section">
                    <button class="reset-btn" id="resetBtn">
                        <span class="reset-icon">‚Ü∫</span>
                        Resetear Transformaciones
                    </button>
                </div>
            </section>
            
            <!-- Historial de operaciones -->
            <aside class="operations-history">
                <h3 class="history-title">
                    <span class="history-icon">üìã</span>
                    Operaciones Aplicadas
                </h3>
                <div class="history-list" id="operationsHistory">
                    <p class="history-empty">No hay operaciones aplicadas</p>
                </div>
                <div class="history-stats" id="historyStats">
                    <span class="stats-item">Total: <strong id="totalOps">0</strong></span>
                </div>
            </aside>
        </main>
        
        <!-- Panel de informaci√≥n matem√°tica -->
        <aside class="math-panel">
            <h3 class="math-title">Informaci√≥n Matem√°tica</h3>
            
            <div class="math-section" id="groupMathInfo">
                <h4>Grupo: <span id="mathGroupName">p1</span></h4>
                
                <div class="math-property">
                    <label>Tipo de Red:</label>
                    <span id="mathLattice">Oblicuo</span>
                </div>
                
                <div class="math-property">
                    <label>Orden de Rotaci√≥n:</label>
                    <span id="mathRotation">1 (360¬∞)</span>
                </div>
                
                <div class="math-property">
                    <label>Reflexi√≥n:</label>
                    <span id="mathReflection">No</span>
                </div>
                
                <div class="math-property">
                    <label>Glide:</label>
                    <span id="mathGlide">No</span>
                </div>
                
                <div class="math-property">
                    <label>Orden del Grupo Puntual:</label>
                    <span id="mathPointGroupOrder">1</span>
                </div>
            </div>
            
            <div class="math-section">
                <h4>Matriz de Transformaci√≥n Actual</h4>
                <div class="matrix-display" id="currentMatrix">
                    <div class="matrix-bracket left">[</div>
                    <div class="matrix-content">
                        <div class="matrix-row">
                            <span id="m00">1</span>
                            <span id="m01">0</span>
                        </div>
                        <div class="matrix-row">
                            <span id="m10">0</span>
                            <span id="m11">1</span>
                        </div>
                    </div>
                    <div class="matrix-bracket right">]</div>
                </div>
            </div>
            
            <div class="math-section">
                <h4>Generadores del Grupo</h4>
                <div class="generators-list" id="generatorsList">
                    <code>t‚ÇÅ, t‚ÇÇ</code>
                </div>
            </div>
            
            <div class="math-section">
                <h4>Simetr√≠as V√°lidas</h4>
                <div id="validSymmetriesContainer">
                    <p class="loading-text">Cargando...</p>
                </div>
            </div>
            
            <div class="math-section">
                <h4>Tabla de Cayley (Multiplicaci√≥n)</h4>
                <div id="cayleyTableContainer">
                    <p class="loading-text">Cargando...</p>
                </div>
                
                <!-- Cayley Graph inline with table -->
                <div class="cayley-graph-container" style="margin-top: 1rem;">
                    <h5>Grafo de Cayley</h5>
                    <div class="cayley-graph-explanation">
                        <p><strong>¬øQu√© representa este grafo?</strong></p>
                        <ul>
                            <li><strong>Nodos:</strong> Cada nodo es un elemento del grupo puntual</li>
                            <li><strong>Aristas ‚Üí:</strong> Conexiones por generador (rotaci√≥n)</li>
                            <li><strong>Aristas ‚§è:</strong> Reflexiones (œÉ¬≤ = e, son involutivas)</li>
                            <li><strong>Nodo amarillo:</strong> Tu posici√≥n actual despu√©s de aplicar operaciones</li>
                        </ul>
                    </div>
                    <canvas id="cayleyGraph" width="320" height="250"></canvas>
                    <div class="graph-legend">
                        <span class="legend-item"><span class="legend-color identity"></span> e (identidad)</span>
                        <span class="legend-item"><span class="legend-color rotation"></span> C‚Çô (rotaci√≥n)</span>
                        <span class="legend-item"><span class="legend-color reflection"></span> œÉ (reflexi√≥n)</span>
                        <span class="legend-item"><span class="legend-color glide"></span> g (glide)</span>
                        <span class="legend-item"><span class="legend-color current"></span> Actual</span>
                    </div>
                </div>
            </div>
            
            <div class="math-section formula-section">
                <h4>F√≥rmulas Clave</h4>
                <div class="formula">
                    <p>Rotaci√≥n Œ∏:</p>
                    <code class="matrix-formula">
                        R(Œ∏) = [cos Œ∏, -sin Œ∏; sin Œ∏, cos Œ∏]
                    </code>
                </div>
                <div class="formula">
                    <p>Reflexi√≥n œÉ ¬∑ œÉ = Rotaci√≥n:</p>
                    <code class="matrix-formula">
                        œÉ·µ• ‚àò œÉ‚Çï = C‚ÇÇ (180¬∞)
                    </code>
                </div>
            </div>
        </aside>
    </div>
    
    <!-- Modal de ayuda -->
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <button class="modal-close" id="closeModal">√ó</button>
            <h2>C√≥mo usar este explorador</h2>
            <div class="help-content">
                <section>
                    <h3>1. Seleccionar un grupo</h3>
                    <p>Usa el men√∫ lateral para elegir uno de los 17 grupos de simetr√≠a.</p>
                </section>
                <section>
                    <h3>2. Aplicar operaciones</h3>
                    <p>Haz clic en los botones de simetr√≠a para aplicar rotaciones, reflexiones, traslaciones o glides.</p>
                </section>
                <section>
                    <h3>3. Observar los resultados</h3>
                    <p>Compara el patr√≥n original con el transformado. Si coinciden (correlaci√≥n ‚âà 100%), ¬°la operaci√≥n es una simetr√≠a del grupo!</p>
                </section>
                <section>
                    <h3>4. Experimentar</h3>
                    <p>Combina m√∫ltiples operaciones y observa c√≥mo se relacionan. Usa el bot√≥n Reset para empezar de nuevo.</p>
                </section>
            </div>
        </div>
    </div>
    
    <button class="help-btn" id="helpBtn" title="Ayuda">?</button>
    
    <script src="js/symmetry.js"></script>
    <script src="js/app.js"></script>
</body>
</html>

